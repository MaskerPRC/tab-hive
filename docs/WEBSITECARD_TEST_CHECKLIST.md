# WebsiteCard 重构后功能测试清单

## 测试说明
请按照以下清单逐项测试，确保重构后的功能与原始版本完全一致。

## ✅ 测试项目

### 1. 基础渲染测试
- [ ] iframe 正常加载网站内容
- [ ] 网站标题正确显示
- [ ] 空槽位显示正确（无URL时）
- [ ] 移动设备视图样式正确（设置 `deviceType: 'mobile'` 时）

### 2. 拖动功能测试
- [ ] 鼠标悬停时拖动手柄显示
- [ ] 鼠标移开时拖动手柄隐藏
- [ ] 点击拖动手柄可以拖动卡片
- [ ] 拖动时卡片跟随鼠标移动
- [ ] 拖动时显示拖动状态样式
- [ ] 拖动时触发 `drag-start` 事件

### 3. 调整大小功能测试
- [ ] 鼠标悬停时显示调整大小手柄（东南角、东、南）
- [ ] 拖动东南角手柄可以同时调整宽度和高度
- [ ] 拖动东侧手柄只调整宽度
- [ ] 拖动南侧手柄只调整高度
- [ ] 调整大小时触发 `resize-start` 事件
- [ ] 调整大小时显示调整状态样式

### 4. 碰撞检测测试
- [ ] 拖动时与其他卡片碰撞显示红色边框
- [ ] 碰撞时触发震动动画
- [ ] 调整大小时与其他卡片碰撞也显示警告

### 5. 浮动操作按钮测试
- [ ] 鼠标悬停时显示操作按钮
- [ ] 刷新按钮（绿色）点击触发 `refresh` 事件
- [ ] 编辑按钮（蓝色）点击触发 `edit` 事件
- [ ] 全屏按钮（橙色）点击触发 `fullscreen` 事件
- [ ] 删除按钮（红色）点击触发 `remove` 事件
- [ ] 全屏模式下操作按钮隐藏

### 6. 拖放功能测试
- [ ] 从外部拖入URL时显示拖放区域
- [ ] 拖放区域显示"替换此网站"提示
- [ ] 拖放提示有脉冲动画效果
- [ ] 拖入时触发 `drag-over` 事件
- [ ] 拖离时触发 `drag-leave` 事件
- [ ] 放下时触发 `drop` 事件

### 7. 全屏功能测试
- [ ] 点击全屏按钮后卡片填满整个屏幕
- [ ] 全屏状态下卡片边框和阴影消失
- [ ] 全屏状态下拖动手柄隐藏
- [ ] 全屏状态下操作按钮隐藏
- [ ] 退出全屏后恢复原始状态

### 8. 选择器功能测试（需要配置 `targetSelector`）

#### Electron 环境
- [ ] Grid模式下只显示指定元素
- [ ] 指定元素填满整个卡片区域
- [ ] 兄弟元素被正确隐藏
- [ ] 全屏模式下显示完整页面
- [ ] 切换全屏时iframe自动刷新

#### 浏览器环境 - 同域iframe
- [ ] Grid模式下只显示指定元素
- [ ] 指定元素填满整个卡片区域
- [ ] 兄弟元素被正确隐藏
- [ ] 全屏模式下显示完整页面

#### 浏览器环境 - 跨域iframe（需要Chrome扩展）
- [ ] 安装Chrome扩展后选择器功能正常
- [ ] 未安装扩展时控制台显示提示信息

### 9. URL处理测试
- [ ] 普通URL正常加载
- [ ] 移动设备类型下 `www.` 自动转换为 `m.`
- [ ] 移动设备类型下已经是 `m.` 开头的URL不重复转换
- [ ] 移动设备类型下没有 `www.` 前缀的域名自动添加 `m.`

### 10. 样式和动画测试
- [ ] 悬停时卡片阴影加深
- [ ] 拖动手柄悬停时放大效果
- [ ] 拖动手柄点击时缩小效果
- [ ] 操作按钮悬停时放大效果
- [ ] 拖放提示的脉冲动画
- [ ] 碰撞时的震动动画
- [ ] 调整大小手柄悬停时高亮

### 11. 边缘情况测试
- [ ] item.url 为空时显示空槽位
- [ ] 快速切换全屏状态不会出错
- [ ] 连续拖动多个卡片不会冲突
- [ ] 快速调整大小不会出现闪烁
- [ ] 组件卸载时没有内存泄漏警告

### 12. 控制台日志测试
- [ ] iframe加载完成时有日志输出
- [ ] 选择器应用时有详细日志
- [ ] 全屏状态变化时有日志
- [ ] 组件卸载时有日志
- [ ] 没有错误或警告（除了预期的跨域提示）

## 测试环境

### Electron环境测试
```bash
npm run electron:dev
```

### 浏览器环境测试
```bash
npm run dev
```

### 生产环境测试
```bash
npm run build
npm run preview
```

## 问题反馈

如发现任何问题，请记录：
1. 问题描述
2. 复现步骤
3. 预期行为
4. 实际行为
5. 控制台错误信息（如有）
6. 测试环境（Electron/浏览器/版本）

---

**测试完成标准**：所有测试项全部通过 ✅

**重构目标**：功能完全等价，无任何功能缺失或行为差异

