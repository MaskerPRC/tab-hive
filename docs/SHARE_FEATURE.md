# 布局分享功能使用说明

## 功能概述

Tab Hive 现在支持布局分享功能！你可以将自己精心设计的布局分享给其他用户，也可以浏览和使用其他用户分享的布局。

## 使用步骤

### 1. 启动后端服务

在项目根目录下运行：

```bash
npm run server
```

后端服务将在 `http://localhost:3101` 上运行。

### 2. 启动前端应用

在另一个终端窗口运行：

```bash
npm run dev
```

前端应用将在 `http://localhost:5173`（或其他端口）上运行。

### 3. 分享你的布局

1. 点击顶部的布局选择器
2. 在"我的布局"标签页中，找到你想分享的布局
3. 点击布局旁边的"分享"按钮（绿色分享图标）
4. 确认分享信息，点击确定

**限制：**
- 每个IP地址每天最多可以分享 10 个布局
- 空布局（没有网站）无法分享

### 4. 浏览共享布局

1. 点击顶部的布局选择器
2. 切换到"共享布局"标签页
3. 你会看到所有用户分享的布局列表
4. 可以在搜索框中输入关键词搜索特定布局

### 5. 使用共享布局

1. 在"共享布局"列表中，点击你感兴趣的布局
2. 布局将自动导入到你的布局列表中
3. 导入的布局名称会带有"(导入)"后缀
4. 你可以自由修改导入的布局

## 功能特性

### ✨ 布局信息展示
- 布局名称
- 网格大小（行×列）
- 网站数量
- 浏览次数

### 🔍 智能搜索
- 实时搜索共享布局
- 按布局名称模糊匹配
- 300ms 防抖优化

### 📊 统计信息
- 每个布局的浏览次数统计
- IP上传次数限制
- 剩余分享次数提示

### 🔒 安全限制
- 基于IP的上传限制（每天10个）
- 自动按日期重置限制
- 防止恶意刷屏

## 技术架构

### 后端
- **框架**: Express.js
- **数据库**: SQLite
- **特性**: 
  - RESTful API
  - IP限制中间件
  - CORS跨域支持

### 前端
- **框架**: Vue 3
- **API调用**: Fetch API
- **特性**:
  - 响应式设计
  - 实时搜索
  - 动画效果

## API 接口说明

### 分享布局
```
POST /api/layouts/share
```

### 获取共享布局列表
```
GET /api/layouts/shared?search=关键词&limit=50&offset=0
```

### 获取布局详情
```
GET /api/layouts/:id
```

### 检查IP限制
```
GET /api/limits/check
```

## 常见问题

### Q: 为什么分享失败？
A: 可能的原因：
1. 后端服务未启动
2. 布局为空（没有网站）
3. 今日分享次数已达上限（10次）

### Q: 如何修改上传限制？
A: 打开 `server/server.js`，找到限制相关的代码（通常是 `10`），修改为你想要的数字。

### Q: 数据存储在哪里？
A: 共享的布局存储在 `server/layouts.db` SQLite 数据库文件中。

### Q: 如何清空所有共享布局？
A: 删除 `server/layouts.db` 文件，重启后端服务即可。

### Q: 可以部署到服务器吗？
A: 可以！将后端部署到服务器后，修改前端 `ConfigPanel.vue` 中的 `API_BASE_URL` 为你的服务器地址。

## 未来计划

- [ ] 用户账号系统
- [ ] 布局点赞和收藏
- [ ] 热门布局推荐
- [ ] 布局分类和标签
- [ ] 评论和反馈系统
- [ ] 管理员审核功能

## 贡献

欢迎提交 Issue 和 Pull Request！

## 许可证

MIT License

